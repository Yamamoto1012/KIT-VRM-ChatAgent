# 感情分析辞書ファイル

このディレクトリには、日本語感情分析で使用する辞書ファイルが格納されています。

## 辞書ファイル一覧

### 1. toukou_pn.txt
- **名称**: 東工大感情極性辞書
- **形式**: `単語:読み:品詞:極性値`
- **特徴**: より詳細な極性値（-1.0〜1.0の浮動小数点）
- **優先度**: 最高（最初に検索される）

### 2. new_pn_ja.dic
- **名称**: 新版 日本語極性辞書
- **形式**: `単語\t極性\t...`
- **特徴**: 改良版のpn_ja辞書
- **優先度**: 高

### 3. pn_ja.dic
- **名称**: 日本語極性辞書
- **形式**: `単語\t極性\t...`
- **極性値**: p(positive), n(negative), e(neutral)
- **優先度**: 中

### 4. pn_ja_takamura.dic
- **名称**: 高村辞書ベースの極性辞書
- **形式**: `単語\t極性\t...`
- **優先度**: 低

## 使用方法

感情分析システムは以下の順序で辞書ファイルを検索し、最初に見つかったファイルを使用します：

1. `toukou_pn.txt` (東工大辞書)
2. `new_pn_ja.dic` (新版辞書)
3. `pn_ja.dic` (標準辞書)
4. `pn_ja_takamura.dic` (高村辞書)

どの辞書ファイルも見つからない場合は、フォールバック辞書（基本的な感情語彙のみ）が使用されます。

## 検索パス

システムは以下のパスで辞書ファイルを検索します：

1. `backend/fast-api/data/sentiment_dictionaries/` (開発環境)
2. `/app/data/sentiment_dictionaries/` (Docker環境)
3. `/app/../` (旧パス、後方互換性のため)

## 辞書ファイルの追加

新しい辞書ファイルを追加する場合：

1. このディレクトリにファイルを配置
2. `services/sentiment/analyzer.py` の `dict_candidates` リストに追加
3. 適切な読み込み関数（`_load_pnja_dictionary` または `_load_toukou_dictionary`）を指定

## 注意事項

- 辞書ファイルのエンコーディングは UTF-8 を推奨
- 東工大辞書の場合、cp932 や shift_jis エンコーディングにも対応
- ファイルサイズが大きいため、Git LFS の使用を検討してください 